input = ["..##.......","#...#...#..",".#....#..#.","..#.#...#.#",".#...##..#.","..#.##.....",".#.#.#....#",".#........#","#.##...#...","#...##....#",".#..#...#.#"]
input2 = ["........#.............#........","...#....#...#....#.............",".#..#...#............#.....#..#","..#......#..##............###..","..........#......#..#..#.......",".#..#.......#.........#.#......",".........#..#....##..#.##....#.","..#....##...#..................","##..........#.##...#....##..#..","...#....#...#..............#...","...........................#..#","..##.##.#..................#...","...#.##..#............#........","........#.......#...#.....##.#.",".##..........#......#.......#..","...#..........#...#..#.......#.","......#...#...#.##.......#.#...","........#...#...#...##.........","#..............#.#....#.......#","..#..#..#.#....#...............",".....#........#...#..........#.","##......#...#..#.##.......#....","..#.#.....#.#.............#.#.#","#..#..##......##...#...........","..#......#........#.....#......",".....#.......#....#.#...#......","...#........#...........#...#..",".......#.#...........###....#..","...#...........##....##........","#....#..####....#.....#..#....#","..........#...........#........","...#.......#....#.#.........#..","....#...#.......#..###.........","......#......#..#......#..#....","...#.....#............#..#.....","...#.#.#.#..#.......#.....#....","#....##...#.........#...##.....","#..#.......#..#..#..#...##.....","#.......#............#.....#...",".#........##....##...#........#",".....#...#.....................",".......#........#..............",".....#............#.#.#...#.#..",".....##..#.............#.......","..#.##..#........#..#...#......",".........#.#....#...........#..",".#.....#..#....#.....#...#.....","....#.#................#.......","...............##......#...#...",".##...#...#.......##.#....#....","............#........#.......#.","......##.#.#...................",".#.#..............#.......#....","#.....#...#.......#..#...#.....",".............#....#..#......#..","........#...##................#",".......#...#..#..##............","..#..#...##...#..#.#.....#...#.",".#.#...#.........#.#...........","...###....#.......#...#........","........#......##.#...#..##..#.",".....................#.#.......",".............#...........#...#.","#..#..#.....#.#...#............","...#....#.....#...........#....","..##.....##...#......#..##.....","#.....#.....###.#.....#....##..",".#...........###...............","..................#..##.#...#..","................#....##.#......",".#.#.#...#....#.........#..#.#.","#.......#........##............",".......##.#....#.#............#","..........#..##.#....#.........","........##..#....#.............",".........#....#...........##...","#.........#.#..#..#..........#.",".....#........#......#.........","....#.#.#...............#......",".#..#..##...#.##..........#....","..#....................#.#.....",".........#....#...........#.#.#","........#....##.##.............","..#.....#.......#..#......#....","#..........#.#.....#.#....#....","........##.#.....#..#.....#.#..","...................#...#....#.#","............#..#....#...#...#..","..............#.#.........#....","...#..#..#.#..##..##...........",".#...........................#.",".#.......#...........#....#.#.#","......#..#...#........#...##...",".........#......#.#.......#...#","...#..##................#......",".............#.#..##....#.#....","...............#..#......#.....",".#......#.#.#....#........#....","........#..#.##..#..#.........#","...#....#.#...#..#.......#..#..","..#...##.........#..#...#......","...#...........#.............#.","....#.....................#....",".....#..#...............#.#...#","....#..........#........#......","..#....#........##..##.........","...#....#..#.#.......#...#.....","..#........#....#...##....#.#..",".#...#........##.....#....###..","#....#....##......#........#...",".........#..#.#..........#....#","....#...#.....#.......##.......","..............#..........#.##..","#...#..#..............#......#.",".................#......##....#","..#..##..#.......#..#.#......#.",".............#........#.....#.#",".#.##............#..#..........","..#...#...........#..##........",".#....#...#....#.......#.......","...#.#..#..#..#....#.....#..#..","....#..##..............#...#...","#..........###......###........",".##.##......#..#............#..",".#...........#.#.....#...#.....","#.#..#...#............#........",".........#...#...#..........##.",".......###..#..........#.......","...........###.....#........#..",".#.............#.....#......#..","...#.....#....#.#.........##...","....##..##...#.......##........","......#....##.........#......#.","..........#.....##..#.....#..#.","..........####...#..#.........#",".##....#..#.#...#.......#......","...#.#.##.#.#...#....#.#.#.....",".........#...##........##.....#","..#........#..........##...##.#","##...##..........#.#...........","..............#......#.........","........#.....#.#.......#......",".#...#.....#....#.#..#.........",".....#....................##...","....#..................#.#...##",".....#............#..##........","#..........#....#.#.......##.#.","....#..#.....................#.","#..#....##.....#...............","..#...#..#..##....#.#..........",".......#......#.#.......#.....#","...#.#.......#...#.##..........","....#..........#....#.#.#......",".......#..#..........#..##.....","#......#......#...#......#...#.","###..#....##......##........#..",".#..........#.....#.......#.#..",".......#.....#.....#.#.........","..#...#....#...................","..............#.##.............",".#...#.......#.##...#.#.......#",".......#......................#","....#.#...#.#........#.........",".#......#....#...#.............","#.......#...###.....#.#.#..#...","#....##.#...............##.....","..#.......#..................#.",".....####...............#......",".##......#......#.#.......##.#.","#......##..###....#....#......#",".##.......##.##...#.##.........","......##............#.......#..","......#..#.....##.#............",".#..........#.....##...........","#.........#......#......##.#...",".........#.......#..#......#.#.",".........#.......#...........#.",".#..##.#..................##...",".............#.............#...",".....##........#......##...##..","..#..#.#.....#..#....#.........",".....#....#.....#.....#........","#......##.....#....#....#......","#.................#..#.#......#",".......#..#......#....#.#...#.#","....#.........#..#..........#.#","##......#............#...#...#.","....##......#...#.....#....##..",".#...##.........#..............","......#.....................#..","..#..........###....#..........","#....#...#..#.............#....","#........#.#......#....#.......",".#...#.......#..#...#.#...#..#.","................##.#.....#.....","###.......#...#................","...#.......#...#.#.....#.......","..#.........#.....#.#.......#..","......#.......................#","#.....#.#..#....#.......#......","...#....#..#....####...........",".............#.....#...##......",".......#.........#...#..#......",".##..#.........#....#.#........","....##...#.#...........#....#..",".........................##....","..###.......##....#.#.........#",".#....#.#.#...........##....#..","......#...#..#..#..#..#.......#","..#....#.#.......#..#..#..#...#",".....##...#.##....#.#...#......",".........#..#....#..#..........",".##..##.........#.#.....#......","..........#...##...#.#...#.....","#.##..#..#.............#.......","...#...........#.......#......#",".......#....#....#...##.......#","..#.##........###..#......#....","...#...........###......#..#..#",".#.........#.#.........#.#.....","##.......##.##.##......##......","............#...#..........#...","....................#..........","...#..#...........#...#...#....",".................#...#......###","...#................#.#.##.....","...............#........#......","#.............##......#.#..#...","..#.#.....#..#.##.....##...#...","......#.........#......#.......","#.......#......#....#........#.",".#..##.....#.........#.........","....##.##.#...#.........##.#...","...............#..#..#..##.....",".#..#...............###........",".##............##..............","...............#...##...#...#.#","..#.#......#.#..#.............#","#.#..#..##.........#.#.#...#...","....##.#....................##.",".........#..#.....#.....#..#..#","....#......#......#.##....#....","........###..#.............#..#","##................#.........#..","#.....#.......#....#...........","..#.......#..#........#....#...","..#.#.##..#.#...##........#.##.","..#..........#............#....","..........#...............##...","..........###........#.#.......",".....###..#.............#......","##.............#...#.....#.....",".....#......#....#........#.#..","............#..#..............#",".................#...........##","#........#.........###.....#...","..#.#..............##......#.#.",".#...........#.........#..##..#","...............................",".#.....#..#....#....#......#...",".#...#......#.#..#....#.......#","......#.##.......#......#......","......#..###..#................","#..#.....#........##...#.......","......##.........##....#...##..",".#..........#.................#","#..#.......#...............#...",".........#..###....#.#.##.#....","..#...#.##..##...............##",".........#.....................",".#....##...#......#....#.......","............#..........#..#....","...#......##....#....#........#",".#...................#.........","#.#........###....#..........#.",".........#....#....#........##.",".#....#..#.........#..#........","...............#..#...#..#...##",".........#....##....#......#...",".#.............................","...#........#...#.#...#.#..#...",".....#..##...#.#...............","#.....#....#.........#.........","#...#...........##.........#...","..##........#.#...#...#......#.","...........#.....#...#.#.......","......###....#.....#...........","......##...#..........#....#.#.",".......##..##..........#.......","....#............#..#....##....","..##...................#.#.....","...#.#..#.#....................",".#..##..#............##.###..#.","#.#...#....#.#..........#.#....","........#....#.....#...........","..##....#...#.......#..........","...........##.##....#..........",".....#............#............",".......#.............#....#....",".................#......#......","......##.......#....#..##...#..",".#..#....#.....................","...#.#.#...#......##...........","##........##.#....#....#.......",".......#.....#..#..#...#.##....","#..........#....#.#..#..#..#...","...##..............#...........",".........#.....#.#....#.......#",".........#....##..#..##..#.....",".....#......................#..","...###...#..#......#...........","....#.....................#....","...............................","..#.....###.......#..#....#....","#..........#.................#.","......#.......###.......#..##..",".............#.##..............","......#..#.#..#...........#....","...#....##.#...#..#.#...#....#.","..................#...#....#.##","......#.#....#.................","......#.#.....#.....#..##......","#..##...........#..#.....#.##.."]

i = 0
input2.each do |line|
    input2[i] = line.split('')
    i += 1
end

slopes = [[1,1],[3,1],[5,1],[7,1],[1,2]]
total_trees = 1
m = input2[0].length

slopes.each do |slope|
    cur_i = slope[1]
    cur_j = slope[0]
    tree_count = 0
    empty_count = 0
    while cur_i < input2.length
        if input2[cur_i][cur_j] == '#'
            tree_count += 1
        else
            empty_count += 1
        end
        cur_i += slope[1]
        cur_j = (cur_j + slope[0]) % m
    end
    puts "#{slope}: #{tree_count} trees, #{empty_count} empties"
    total_trees *= tree_count
end

puts "#{total_trees}"
